<!DOCTYPE html>
<html>
<head>
    <title>Virtual Fitness Coach</title>

    <style>
        /* ----------------------------------------------------
           BACKGROUND + ANIMATION
        ---------------------------------------------------- */
        body {
            font-family:'Poppins', sans-serif;
            background: linear-gradient(135deg, #b3e5ff, #d4b3ff);
            margin:0; padding:0;
            text-align:center;
            color:#333;
            overflow-x:hidden;
            transition:0.5s;
        }
        body.dark {
            background: linear-gradient(135deg, #1e1e2f, #3b3b5f);
            color:white;
        }

        /* Floating animated circles */
        .shape {
            position: absolute;
            width: 120px; height: 120px;
            background: rgba(255,255,255,0.25);
            border-radius:50%;
            animation: float 6s infinite ease-in-out;
            z-index:-1;
        }
        .shape:nth-child(1){ top:10%; left:10%; animation-duration: 7s; }
        .shape:nth-child(2){ top:70%; left:80%; animation-duration: 5s; }
        .shape:nth-child(3){ top:30%; left:60%; animation-duration: 9s; }

        @keyframes float {
            0%{ transform:translateY(0) rotate(0deg); }
            50%{ transform:translateY(-30px) rotate(20deg); }
            100%{ transform:translateY(0) rotate(0deg); }
        }

        /* ----------------------------------------------------
           HEADER
        ---------------------------------------------------- */
        header{
            background:#4f46e5;
            color:white;
            padding:25px 10px;
            border-bottom-left-radius:25px;
            border-bottom-right-radius:25px;
            box-shadow:0 4px 12px rgba(0,0,0,0.3);
            animation: drop 0.8s ease;
        }
        @keyframes drop {
            from { transform:translateY(-80px); opacity:0; }
            to { transform:translateY(0); opacity:1; }
        }

        header h1{
            margin:0;
            font-size:2.4em;
            letter-spacing:2px;
        }

        /* ----------------------------------------------------
           CARD DESIGN
        ---------------------------------------------------- */
        .container{ max-width:900px; margin:20px auto; padding:0 15px; }

        .card{
            background:rgba(255,255,255,0.85);
            border-radius:20px;
            padding:20px;
            margin:20px 0;
            box-shadow:0 6px 15px rgba(0,0,0,0.15);
            transition:0.3s;
            backdrop-filter: blur(8px);
            animation: fadeIn 0.8s ease;
        }
        body.dark .card{ background:rgba(32,32,55,0.85); }

        .card:hover{
            transform:translateY(-7px) scale(1.02);
        }

        @keyframes fadeIn {
            from { opacity:0; transform:scale(0.9); }
            to { opacity:1; transform:scale(1); }
        }

        /* ----------------------------------------------------
           AVATAR
        ---------------------------------------------------- */
        .avatar{
            width:150px; height:150px;
            margin:20px auto;
            background:#4f46e5;
            border-radius:50%;
            display:flex;
            align-items:center;
            justify-content:center;
            font-size:3em;
            color:white;
            box-shadow:0 4px 12px rgba(0,0,0,0.3);
            animation: bounce 1.8s infinite ease-in-out;
        }

        @keyframes bounce {
            0%{ transform:translateY(0); }
            50%{ transform:translateY(-18px); }
            100%{ transform:translateY(0); }
        }

        /* ----------------------------------------------------
           BUTTONS & SELECTS
        ---------------------------------------------------- */
        select,button{
            padding:12px 18px; margin:5px;
            font-size:16px;
            border-radius:10px;
            border:none;
            cursor:pointer;
            transition:0.3s;
        }
        button{
            background:#4f46e5;
            color:white;
            box-shadow:0 4px 12px rgba(0,0,0,0.2);
        }
        button:hover{
            background:#372fd9;
            transform:scale(1.05);
        }
        select{
            background:white;
            border:2px solid #4f46e5;
        }

        .grid{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
            gap:15px;
        }

        #diet{ font-weight:bold; color:#4f46e5; }
        body.dark #diet{ color:#a7b5ff; }

        /* Animated timers */
        #timer, #rest {
            font-size:2em;
            animation: pulse 1.3s infinite ease-in-out;
        }

        @keyframes pulse {
            0%{ transform:scale(1); }
            50%{ transform:scale(1.15); }
            100%{ transform:scale(1); }
        }
    </style>

</head>
<body>

<!-- Floating Shapes -->
<div class="shape"></div>
<div class="shape"></div>
<div class="shape"></div>

<header><h1>üí™ Virtual Fitness Coach</h1></header>

<div class="container">

    <!-- USER BOX -->
    <div class="card">
        <h3>Welcome, <span id="userDisplay"></span>! üéâ</h3>
        <button onclick="logout()">Logout</button>
    </div>

    <!-- EXERCISE SELECT -->
    <div class="card">
        <h3>üéØ Select Category & Exercise</h3>

        <select id="category" onchange="loadExercises()">
            <option value="weightloss">Weight Loss</option>
            <option value="weightgain">Weight Gain</option>
            <option value="muscle">Muscle Gain</option>
            <option value="postpartum">Postpartum</option>
        </select>

        <select id="exercise" onchange="showExercise()"></select>
    </div>

    <!-- DESCRIPTION -->
    <div class="card">
        <div class="avatar">ü§∏</div>
        <h3>üìå Exercise Description</h3>
        <p id="desc">Select an exercise</p>
    </div>

    <!-- DIET -->
    <div class="card">
        <h3>üçè Daily Diet Suggestion</h3>
        <p id="diet">Select a category</p>
    </div>

    <!-- GRID -->
    <div class="grid">

        <div class="card">
            <h3>‚è± Workout Timer</h3>
            <p id="timer">30</p>
            <button onclick="startTimer()">Start Exercise</button>
        </div>

        <div class="card">
            <h3>‚è≤ Rest Timer</h3>
            <p id="rest">10</p>
            <button onclick="startRest()">Start Rest</button>
        </div>

        <div class="card">
            <h3>‚úÖ Daily Progress</h3>
            Completed Today: <span id="count">0</span><br>
            <button onclick="addCount()">I Did One! üéâ</button>
        </div>

        <div class="card">
            <h3>üî• Calories Burned</h3>
            <p id="calories">0</p>
        </div>
    </div>

    <div class="card">
        <button onclick="toggleDark()">üåô Toggle Dark Mode</button>
    </div>

</div>

<script>
    // -------- LOGIN VALIDATION ----------
    const currentUser = localStorage.getItem("currentUser");
    if (!currentUser) {
        window.location.href = "index.html"; 
    }
    document.getElementById("userDisplay").textContent = currentUser;

    function logout() {
        localStorage.removeItem("currentUser");
        window.location.href = "index.html";
    }

    /* ---------- DATA ---------- */
    const exercises = {
        weightloss: ["Jumping Jacks","Burpees","High Knees","Mountain Climbers"],
        weightgain: ["Push Ups","Bicep Curls","Bench Press","Dumbbell Rows"],
        muscle: ["Squats","Plank","Deadlifts","Push Ups"],
        postpartum: ["Pelvic Tilts","Wall Sit","Heel Slides","Cat-Cow Stretch"]
    };

    const diet = {
        weightloss: "Eat vegetables, lean protein, limit sugar, hydrate.",
        weightgain: "Eat calorie-dense foods, protein, carbs, healthy fats.",
        muscle: "Eat protein, complex carbs, moderate healthy fats.",
        postpartum: "Eat nutrient-rich meals, hydrate, fiber, moderate protein."
    };

    const exerciseSelect = document.getElementById("exercise");

    function loadExercises() {
        const cat = document.getElementById("category").value;
        exerciseSelect.innerHTML = "";

        exercises[cat].forEach(ex => {
            const opt = document.createElement("option");
            opt.textContent = ex;
            exerciseSelect.appendChild(opt);
        });

        showExercise();
        document.getElementById("diet").textContent = diet[cat];
    }

    function showExercise() {
        document.getElementById("desc").textContent =
            "Do " + exerciseSelect.value + " for 30 seconds.";
    }

    /* ---------- TIMERS ---------- */
    let timerInterval, restInterval;

    function startTimer() {
        let time = 30;
        clearInterval(timerInterval);
        timerInterval = setInterval(() => {
            document.getElementById("timer").textContent = time;
            time--;
            if (time < 0) clearInterval(timerInterval);
        }, 1000);
    }

    function startRest() {
        let time = 10;
        clearInterval(restInterval);
        restInterval = setInterval(() => {
            document.getElementById("rest").textContent = time;
            time--;
            if (time < 0) clearInterval(restInterval);
        }, 1000);
    }

    /* ---------- PROGRESS ---------- */
    let count = 0;
    let calories = 0;

    function addCount() {
        count++;
        calories += 5;
        document.getElementById("count").textContent = count;
        document.getElementById("calories").textContent = calories;
    }

    /* ---------- DARK MODE ---------- */
    function toggleDark(){
        document.body.classList.toggle("dark");
    }

    /* ---------- INIT ---------- */
    loadExercises();
</script>

</body>
</html>
